<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>econstitucional | CPE Bolivia 2009 - Constitución Política del Estado</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Asistente de inteligencia artificial para explorar la Constitución Política del Estado de Bolivia 2009. Consulta los 411 artículos de la CPE, análisis constitucional y concordancias.">
    <meta name="keywords" content="Constitución Bolivia, CPE Bolivia 2009, Constitución Política del Estado, derecho constitucional boliviano, artículos constitucionales, derechos fundamentales Bolivia, Estado Plurinacional, asistente constitucional, IA constitucional, análisis constitucional, concordancias CPE, tribunal constitucional Bolivia, derechos humanos Bolivia, nueva constitución Bolivia">
    <meta name="author" content="econstitucional">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Spanish">
    <meta name="geo.region" content="BO">
    <meta name="geo.country" content="Bolivia">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://econstitucional.vercel.app/">
    <meta property="og:title" content="econstitucional | CPE Bolivia 2009">
    <meta property="og:description" content="Explora la Constitución Política del Estado de Bolivia 2009 con asistencia de IA. Consulta artículos, análisis y concordancias constitucionales.">
    <meta property="og:image" content="https://econstitucional.vercel.app/img/og-image.png">
    <meta property="og:locale" content="es_BO">
    <meta property="og:site_name" content="econstitucional">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://econstitucional.vercel.app/">
    <meta name="twitter:title" content="econstitucional | CPE Bolivia 2009">
    <meta name="twitter:description" content="Explora la Constitución Política del Estado de Bolivia 2009 con asistencia de IA. Consulta artículos, análisis y concordancias constitucionales.">
    <meta name="twitter:image" content="https://econstitucional.vercel.app/img/og-image.png">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://econstitucional.vercel.app/">

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Google Fonts - Open Sans (Cloudscape) -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <i class="bi bi-box me-2"></i>
                <span>econstitucional</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html"><i class="bi bi-book me-1"></i>Artículos CPE</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="acerca.html"><i class="bi bi-info-circle me-1"></i>Acerca de</a>
                    </li>
                    <li class="nav-item ms-2">
                        <button class="theme-toggle" id="themeToggle" title="Cambiar tema">
                            <i class="bi bi-sun-fill" id="themeIcon"></i>
                            <span id="themeLabel">Claro</span>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Articles Section (Main Content) -->
    <section id="articulos" class="main-section">
        <div class="container">
            <!-- Title -->
            <div class="mb-5">
                <h1 class="section-title">CPE Bolivia 2009</h1>
                <p class="cpe-reference">411 artículos · 12 disposiciones · 5 partes</p>
            </div>

            <!-- Search -->
            <div class="row mb-4">
                <div class="col-lg-6">
                    <div class="search-box">
                        <span class="search-icon"><i class="bi bi-search"></i></span>
                        <input type="text" id="articleSearch" placeholder="Buscar artículo por número o tema...">
                    </div>
                </div>
            </div>

            <!-- Temáticas Filter -->
            <div class="mb-5">
                <div id="tematicasFilter" class="d-flex flex-wrap gap-2">
                    <!-- Populated by JavaScript -->
                </div>
            </div>

            <!-- Articles Grid -->
            <div class="row g-3" id="articlesGrid">
                <div class="col-12 text-center py-5">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Cargando...</span>
                    </div>
                    <p class="text-muted mt-2">Cargando artículos...</p>
                </div>
            </div>

            <!-- Pagination -->
            <nav class="mt-4" id="paginationContainer" style="display: none;">
                <ul class="pagination justify-content-center flex-wrap" id="pagination">
                    <!-- Generated by JavaScript -->
                </ul>
            </nav>
        </div>
    </section>

    <!-- Article Detail Modal -->
    <div class="modal fade" id="articleModal" tabindex="-1" data-bs-focus="false">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="articleModalTitle">Artículo</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="articleModalBody">
                    <div class="text-center py-5">
                        <div class="spinner-border text-primary" role="status"></div>
                    </div>
                </div>
                <div class="modal-footer justify-content-start">
                    <button type="button" class="btn btn-primary" id="askAboutArticle">
                        <i class="bi bi-robot me-2"></i>Preguntar a IA
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Fixed Chat Widget -->
    <div class="chat-widget" id="chatWidget">
        <!-- Chat Toggle Button -->
        <button class="chat-toggle-btn" id="chatToggleBtn">
            <i class="bi bi-robot"></i>
            <span class="chat-badge" id="chatBadge" style="display: none;">1</span>
        </button>

        <!-- Chat Window -->
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <div class="chat-header-info">
                    <i class="bi bi-robot"></i>
                    <span>Asistente IA</span>
                </div>
                <button class="chat-close-btn" id="chatCloseBtn">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message assistant-message">
                    <div class="message-content">
                        <p>¡Hola! Soy tu asistente de la CPE Bolivia. ¿En qué puedo ayudarte?</p>
                    </div>
                </div>
            </div>
            <div class="chat-input-area">
                <form id="chatForm">
                    <div class="chat-input-wrapper">
                        <textarea
                            id="userInput"
                            placeholder="Escribe tu pregunta..."
                            rows="1"
                            autocomplete="off"></textarea>
                        <button type="submit" id="sendBtn">
                            <i class="bi bi-send"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Chat Backdrop (must be after widget for proper z-index stacking) -->
    <div class="chat-backdrop" id="chatBackdrop"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="js/app.js"></script>
</body>
</html>
